<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PlayStation(R)Mobile SDK: Services.Network Overview</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>




<div id="top">
 <!------------------------1. START------------------------------>
 
         <div id="sonylogo">
             <img src="image/groupLogo.gif" />
         </div>
         
          <div id="projectname">
      <a href="index.html"> <img id="title" src="image/title.png" height="45" width="302" style="margin-left:20px; margin-top:4px;"/></a>
          </div>
          
          <div id="MSearchBox" class="MSearchBoxInactive">
               <span class="left">
                 <img id="MSearchSelect" src="search/mag_sel.png"
                      onmouseover="return searchBox.OnSearchSelectShow()"
                      onmouseout="return searchBox.OnSearchSelectHide()"
                      alt=""/>
                 <input type="text" id="MSearchField" value="Search" accesskey="S"
                      onfocus="searchBox.OnSearchFieldFocus(true)" 
                      onblur="searchBox.OnSearchFieldFocus(false)" 
                      onkeyup="searchBox.OnSearchFieldChange(event)"/>
                 </span><span class="right">
                   <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()">																
                   <img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
                 </span>
           </div>
<!------------------------END------------------------------------->
</div>





<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('overview_services_network_en.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<h1>Services.Network Overview </h1>  </div>
</div>
<div class="contents">
<div class="textblock"><div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#scoreboards" id="id1">Scoreboards</a><ul>
<li><a class="reference internal" href="#about-scoreboards" id="id2">About scoreboards</a></li>
</ul>
</li>
<li><a class="reference internal" href="#development-procedure" id="id3">Development Procedure</a><ul>
<li><a class="reference internal" href="#psm-devportal-flow" id="id4">PSM DevPortal Flow</a></li>
<li><a class="reference internal" href="#application-and-scoreboard-management-overview" id="id5">Application and Scoreboard Management Overview</a></li>
<li><a class="reference internal" href="#publishing-overview" id="id6">Publishing Overview</a></li>
<li><a class="reference internal" href="#program-processing-flow" id="id7">Program Processing Flow</a></li>
<li><a class="reference internal" href="#scoreboard-api-overview" id="id8">Scoreboard API Overview</a></li>
<li><a class="reference internal" href="#get-functionality" id="id9">Get functionality</a></li>
<li><a class="reference internal" href="#set-functionality" id="id10">Set functionality</a></li>
<li><a class="reference internal" href="#friend-scoreboard-api-overview" id="id11">Friend Scoreboard API Overview</a></li>
<li><a class="reference internal" href="#friend-api-overview" id="id12">Friend API Overview</a></li>
<li><a class="reference internal" href="#error-handling" id="id13">Error handling</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="scoreboards">
<h1><a class="toc-backref" href="#id1">Scoreboards</a></h1>
<blockquote>
This document provides an explanation on the implementation and usage of PSM Scoreboards, which are accessible via the PSM Network API.</blockquote>
<div class="section" id="about-scoreboards">
<h2><a class="toc-backref" href="#id2">About scoreboards</a></h2>
<blockquote>
<p>Scoreboards are used to display a list of the top users grouped by category for an application.  Each scoreboard supports tracking scores on all-time basis, where every user is given an entry which records their best score.  Additionally, at scoreboard creation time the developer may configure support for tracking scores on a daily, weekly, and monthly basis (any subset of these values is acceptable).  For instance the developer can choose to keep track of only daily scores, which will result in the creation of daily and all-time scoreboard time variants for the selected scoreboard.</p>
<p>The Scoreboard API also exposes an endpoint for pulling friend scoreboards, which enables the user to compare themselves against a list of PlayStation(R)Network friends.  Scores for friend scoreboards are pulled from the all-time scoreboards.</p>
<p>Up to 10 Network enabled applications can be created per PSM developer account on a yearly basis.  Each application is allowed a total of 8 scoreboards (each of which supports daily, weekly, monthly, and all-time score tracking).  The user is required to be logged into PSN in order for scoreboard data to be transmitted and read, and an Online ID is required for a user to be able to submit scores to a scoreboard.</p>
</blockquote>
</div>
</div>
<div class="section" id="development-procedure">
<h1><a class="toc-backref" href="#id3">Development Procedure</a></h1>
<div class="section" id="psm-devportal-flow">
<h2><a class="toc-backref" href="#id4">PSM DevPortal Flow</a></h2>
<blockquote>
<p>The flow for creating a scoreboard is as follows:</p>
<ol class="arabic simple">
<li>Login to the DevPortal at <a class="reference external" href="https://psm.playstation.net/portal/">https://psm.playstation.net/portal/</a></li>
<li>Click the &quot;PSN Services Configuration&quot; option.</li>
<li>Add a new application by clicking the &quot;Add New&quot; button on the &quot;Application List&quot; screen.</li>
</ol>
<blockquote>
<div class="figure">
<img alt="./image/psn/ApplicationAddNew.png" src="./image/psn/ApplicationAddNew.png" />
</div>
</blockquote>
<ol class="arabic simple" start="4">
<li>Click the &quot;Manage&quot; button on the &quot;Scoreboard&quot; pane.</li>
</ol>
<blockquote>
<div class="figure">
<img alt="./image/psn/ScoreBoardManage.png" src="./image/psn/ScoreBoardManage.png" />
</div>
</blockquote>
<ol class="arabic simple" start="5">
<li>Add a new scoreboard by clicking the &quot;Add New&quot; button on the &quot;Score Board List&quot; screen.</li>
</ol>
<blockquote>
<div class="figure">
<img alt="./image/psn/ScoreBoardAddNew.png" src="./image/psn/ScoreBoardAddNew.png" />
</div>
</blockquote>
</blockquote>
</div>
<div class="section" id="application-and-scoreboard-management-overview">
<h2><a class="toc-backref" href="#id5">Application and Scoreboard Management Overview</a></h2>
<blockquote>
<p>Upon creation, applications and scoreboards are each assigned a unique token.  These tokens are used when invoking the Scoreboard Network API, and should be placed into the application by the developer.</p>
<p>IMPORTANT: The application and scoreboard tokens should be treated as secret keys by the developer and not shared with anyone outside their development team.</p>
<p>Scores for the development environment are viewable via the DevPortal, by clicking on the &quot;View Scores&quot; button for a scoreboard on the &quot;Score Board List&quot; screen.  The Portal supports the deletion of scores to enable developers to reset their test dataset.</p>
</blockquote>
</div>
<div class="section" id="publishing-overview">
<h2><a class="toc-backref" href="#id6">Publishing Overview</a></h2>
<blockquote>
<p>Developers are responsible for publishing their application's via the DevPortal.  An application can be published by pressing the &quot;Publish&quot; button for an application on the &quot;Application List&quot; screen.  This will promote both the application and all of the application's score boards to the QA environment for final sign-off. Publishing of the application should be done at the same time with submitting the master package.</p>
<p>IMPORTANT: Applications and scoreboards can be freely added and removed by the developer up until the time the developer publishes an application, after which they are unable to be deleted.  A subset of the application and scoreboard fields can still be altered after publishing, but this is restricted to name, description, and the min/max score range for a scoreboard.  A scoreboard's field type (i.e. integer) and time variants (i.e. daily, weekly, monthly) are set at creation time and cannot be changed.</p>
</blockquote>
</div>
<div class="section" id="program-processing-flow">
<h2><a class="toc-backref" href="#id7">Program Processing Flow</a></h2>
<blockquote>
<p>The processing of scoreboards is performed using the Network class.</p>
<ol class="arabic simple">
<li>Call Network::Initialize with appToken.</li>
<li>Call Network::AuthGetTicket().</li>
</ol>
<dl class="docutils">
<dt>Workflow:</dt>
<dd><ul class="first last simple">
<li>Authorization credentials for the user are fetched from PSN.  This results in the user being prompted to login, unless the user's login information has already been saved to the device.  After a successful login the authorization credentials are sent to the PSM Network Services server for validation.  Upon success, the server returns a Network Services ticket back to the application.</li>
<li>After the Network Services ticket is fetched, Network.State is set to NetworkState.NetworkServicesServerReady.</li>
<li>NetworkRequests can then be made against the Network Services server.</li>
</ul>
</dd>
</dl>
</blockquote>
</div>
<div class="section" id="scoreboard-api-overview">
<h2><a class="toc-backref" href="#id8">Scoreboard API Overview</a></h2>
<blockquote>
All requests and responses are in JSON format.  A response parser has been provided for ease of development.</blockquote>
</div>
<div class="section" id="get-functionality">
<h2><a class="toc-backref" href="#id9">Get functionality</a></h2>
<blockquote>
<p>Send a &quot;get&quot; NetworkRequest with the following parameters and a service type of &quot;score_board&quot;:</p>
<ul>
<li><p class="first">An application token, extracted from the DevPortal.</p>
<div class="figure">
<img alt="./image/psn/ApplicationToken.png" src="./image/psn/ApplicationToken.png" />
</div>
</li>
<li><p class="first">A set of scoreboard tokens, extracted from the DevPortal.</p>
<div class="figure">
<img alt="./image/psn/ScoreBoardToken.png" src="./image/psn/ScoreBoardToken.png" />
</div>
</li>
<li><p class="first">A set of scoreboard types.</p>
<dl class="docutils">
<dt>Valid types:</dt>
<dd><p class="first last">1: Daily
2: Weekly
3: Monthly
4: All-time</p>
</dd>
</dl>
</li>
<li><p class="first">A limit.  Valid values are integers in the range of [50-500] (optional, default 50).</p>
</li>
<li><p class="first">An integer offset (optional).</p>
</li>
</ul>
<p>Receive a NetworkResponse with the following parameters:</p>
<ul class="simple">
<li>The username of the currently logged in user.</li>
<li>A list of scoreboard results.  The list is in the format: [score_board_token: {time_variant: [username, score, date achieved, metadata], ...}]</li>
<li>A user's rank.</li>
<li>The total number of all-time scores.</li>
</ul>
</blockquote>
</div>
<div class="section" id="set-functionality">
<h2><a class="toc-backref" href="#id10">Set functionality</a></h2>
<blockquote>
<p>Send a &quot;set&quot; NetworkRequest with the following parameters and a service type of &quot;score_board&quot;.</p>
<ul>
<li><p class="first">An application token, extracted from the DevPortal.</p>
<div class="figure">
<img alt="./image/psn/ApplicationToken.png" src="./image/psn/ApplicationToken.png" />
</div>
</li>
<li><p class="first">A scoreboard token, extracted from the DevPortal.</p>
<div class="figure">
<img alt="./image/psn/ScoreBoardToken.png" src="./image/psn/ScoreBoardToken.png" />
</div>
</li>
<li><p class="first">The user's score.</p>
</li>
<li><p class="first">A string of metadata associated with the score.</p>
</li>
</ul>
</blockquote>
</div>
<div class="section" id="friend-scoreboard-api-overview">
<h2><a class="toc-backref" href="#id11">Friend Scoreboard API Overview</a></h2>
<blockquote>
<p>Send a &quot;get&quot; NetworkRequest with the following parameters and a service type of &quot;friend_score_board&quot;.</p>
<ul>
<li><p class="first">An application token, extracted from the DevPortal.</p>
<div class="figure">
<img alt="./image/psn/ApplicationToken.png" src="./image/psn/ApplicationToken.png" />
</div>
</li>
<li><p class="first">A scoreboard token, extracted from the DevPortal.</p>
<div class="figure">
<img alt="./image/psn//ScoreBoardToken.png" src="./image/psn//ScoreBoardToken.png" />
</div>
</li>
</ul>
<p>Only one friend scoreboard may be queried at a time.</p>
<p>Receive a NetworkResponse with the following parameters</p>
<ul class="simple">
<li>The username of the currently logged in user.</li>
<li>A list of scoreboard results.  The list is in the format: [score_board_token: {time_variant: [username, score, date achieved, metadata], ...}]</li>
</ul>
</blockquote>
</div>
<div class="section" id="friend-api-overview">
<h2><a class="toc-backref" href="#id12">Friend API Overview</a></h2>
<blockquote>
<p>Send a &quot;get&quot; NetworkRequest with the following parameters and a service type &quot;friend_list&quot;.</p>
<p>Receive a NetworkResponse with the following parameters:</p>
<ul class="simple">
<li>The username of the currently logged in user.</li>
<li>A list of PSN friends for the currently logged in user.</li>
</ul>
</blockquote>
</div>
<div class="section" id="error-handling">
<h2><a class="toc-backref" href="#id13">Error handling</a></h2>
<blockquote>
<p>NetworkServer errors are returned in the response JSON.</p>
<p>IMPORTANT: If the device is offline when a score is transmitted, the application will receive a exception after the network send times out.  For this reason it is highly recommended that the developer uses the asynchronous send to dispatch scores to the server.  Furthermore, it is the responsibility of the developer to persist and retry dispatching the score to the server if an error occurs while sending.  The developer can ascertain the online status of a device by checking the Network.State property of the static Network class.  If the device is connected NetworkState.NetworkServicesServerReady will be returned, otherwise NetworkState.NotConnected will be returned.</p>
</blockquote>
</div>
</div>
 </div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Events</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<!--<div id="footer">-->


<!--<div id="footer">-->
<div id="footer2">
<p>&copy;2013 Sony Computer Entertainment Inc. All Rights Reserved.</p></div>




</body>
</html>
